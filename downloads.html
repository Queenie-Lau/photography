<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Downloads | Queenie Lau</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400&family=Inter:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="decor-layer">
      <span class="flower-icon">❀ QL</span>
    </div>
    <header>
      <h1>DOWNLOADS</h1>
      <nav>
        <a href="index.html">Home</a>
      </nav>
    </header>
    <main>
      <section>
        <h2>Free</h2>
        <div class="card">
          <h3>Cinematic Film Emulation LUTS</h3>
          <p>Set of three warm, nostalgic LUTS (.CUBE file format)</p>
          <h2>Before / After</h2>
          <p>Cinematic Red LUT</p>
          <div class="Red-Lut-Container">
            <div class="slider">
              <div class="img-container">
                <img
                  src="assets/before/DSC09621.jpeg"
                  alt="Before"
                  class="before"
                />
                <img
                  src="assets/after/cinematic_pink_red/DSC09621_WARM_02_GRADED.jpg"
                  alt="After"
                  class="after"
                />
                <div class="handle"></div>
              </div>
            </div>

            <div class="slider">
              <div class="img-container">
                <img
                  src="assets/before/DSC09694.jpeg"
                  alt="Before"
                  class="before"
                />
                <img
                  src="assets/after/cinematic_pink_red/DSC09694_WARM_02_GRADED.jpg"
                  alt="After"
                  class="after"
                />
                <div class="handle"></div>
              </div>
            </div>

            <div class="slider">
              <div class="img-container">
                <img
                  src="assets/before/DSC09655.jpeg"
                  alt="Before"
                  class="before"
                />
                <img
                  src="assets/after/cinematic_pink_red/DSC09655_WARM_02_GRADED.jpg"
                  alt="After"
                  class="after"
                />
                <div class="handle"></div>
              </div>
            </div>
          </div>

          <p>Cinematic Yellow Red LUT</p>
          <div class="Red-Lut-Container">
            <div class="slider">
              <div class="img-container">
                <img
                  src="assets/before/DSC09621.jpeg"
                  alt="Before"
                  class="before"
                />
                <img
                  src="assets/after/cinematic_yellow_red/DSC09621_WARM_03_GRADED.jpg"
                  alt="After"
                  class="after"
                />
                <div class="handle"></div>
              </div>
            </div>

            <div class="slider">
              <div class="img-container">
                <img
                  src="assets/before/DSC09694.jpeg"
                  alt="Before"
                  class="before"
                />
                <img
                  src="assets/after/cinematic_yellow_red/DSC09694_WARM_03_GRADED.jpg"
                  alt="After"
                  class="after"
                />
                <div class="handle"></div>
              </div>
            </div>

            <div class="slider">
              <div class="img-container">
                <img
                  src="assets/before/DSC09655.jpeg"
                  alt="Before"
                  class="before"
                />
                <img
                  src="assets/after/cinematic_yellow_red/DSC09655_WARM_03_GRADED.jpg"
                  alt="After"
                  class="after"
                />
                <div class="handle"></div>
              </div>
            </div>
          </div>

          <p>Cinematic Yellow Blue LUT</p>
          <div class="Red-Lut-Container">
            <div class="slider">
              <div class="img-container">
                <img
                  src="assets/before/DSC09621.jpeg"
                  alt="Before"
                  class="before"
                />
                <img
                  src="assets/after/cinematic_yellow_blue/DSC09621_WARM_01_GRADED.jpg"
                  alt="After"
                  class="after"
                />
                <div class="handle"></div>
              </div>
            </div>

            <div class="slider">
              <div class="img-container">
                <img
                  src="assets/before/DSC09694.jpeg"
                  alt="Before"
                  class="before"
                />
                <img
                  src="assets/after/cinematic_yellow_blue/DSC09694_WARM_01_GRADED.jpg"
                  alt="After"
                  class="after"
                />
                <div class="handle"></div>
              </div>
            </div>

            <div class="slider">
              <div class="img-container">
                <img
                  src="assets/before/DSC09655.jpeg"
                  alt="Before"
                  class="before"
                />
                <img
                  src="assets/after/cinematic_yellow_blue/DSC09655_WARM_01_GRADED.jpg"
                  alt="After"
                  class="after"
                />
                <div class="handle"></div>
              </div>
            </div>
          </div>

          <a
            class="button"
            href="assets/luts/cinematic-film-emulation.zip"
            download
          >
            Download Free
          </a>
        </div>
      </section>
    </main>
    <footer>
      <p>© 2025 Queenie Lau</p>
    </footer>
    <script>
      document.querySelectorAll(".slider").forEach((slider) => {
        const container = slider.querySelector(".img-container");
        const beforeImg = container.querySelector(".before");
        const afterImg = container.querySelector(".after");
        const handle = container.querySelector(".handle");

        let isDragging = false;

        const updateSlider = (clientX) => {
          const rect = container.getBoundingClientRect();
          let offsetX = clientX - rect.left;
          offsetX = Math.max(0, Math.min(offsetX, rect.width));
          const percent = (offsetX / rect.width) * 100;

          afterImg.style.clipPath = `inset(0 ${100 - percent}% 0 0)`;
          handle.style.left = `${percent}%`;
        };

        handle.addEventListener("mousedown", () => (isDragging = true));
        window.addEventListener("mouseup", () => (isDragging = false));
        window.addEventListener("mousemove", (e) => {
          if (!isDragging) return;
          updateSlider(e.clientX);
        });

        // Touch support
        handle.addEventListener("touchstart", () => (isDragging = true));
        window.addEventListener("touchend", () => (isDragging = false));
        window.addEventListener("touchmove", (e) => {
          if (!isDragging) return;
          updateSlider(e.touches[0].clientX);
        });

        // Set container height based on loaded image aspect ratio
        const setContainerHeight = () => {
          const aspectRatio = beforeImg.naturalHeight / beforeImg.naturalWidth;
          container.style.height = container.offsetWidth * aspectRatio + "px";
        };

        if (beforeImg.complete) setContainerHeight();
        else beforeImg.onload = setContainerHeight;

        window.addEventListener("resize", setContainerHeight); // responsive
      });
    </script>
  </body>
</html>
